{"version":3,"sources":["webpack:///E:/project/mini-mall/main.js","webpack:///E:/project/mini-mall/App.vue?3915","webpack:///E:/project/mini-mall/App.vue?4ebc","webpack:///E:/project/mini-mall/App.vue","webpack:///E:/project/mini-mall/App.vue?af05","webpack:///E:/project/mini-mall/App.vue?bfb7"],"names":["Vue","config","productionTip","log","TAG","value","level","env","constant","Env","PRO","console","error","warn","showToast","msg","duration","icon","wx","title","showLoading","mask","prototype","$api","api","$store","store","$const","$log","$showToast","$showLoading","$fetch","uniHttpRequest","App","mpType","app","$mount","onLaunch","e","save","query","sn","user_info","getStorageInfoSync","Storage","USER","login","onShow","onHide","methods","check","url","check_user","get","then","res","err_code","data","user","logout","length","state","logined","setStorage","key","SN","update","canIUse","manager","getUpdateManager","onCheckForUpdate","hasUpdate","onUpdateReady","showModal","content","success","confirm","applyUpdate","onUpdateFailed"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport store from './store/index.js'\r\nimport uniHttpRequest from './common/uniRequest.js'\r\nimport wxHttpRequest from './common/wxRequest.js'\r\nimport constant from './common/const.js'\r\nimport config from './common/config.js'\r\nimport api from './common/api.js'\r\n\r\nVue.config.productionTip = false\r\n\r\n\r\n// 全局 log\r\nconst log = (TAG,value,level='log')=>{\r\n\tif(config.env === constant.Env.PRO){\r\n\t\t return\r\n\t}\r\n\tif(level === 'log'){\r\n\t\tconsole.log(`------\"${TAG}\"----->>>`)\r\n\t\tconsole.log(value)\r\n\t\tconsole.log(`<<<----------------`)\r\n\t}else if(level === 'error'){\r\n\t\tconsole.log(`------\"${TAG}\"----->>>`)\r\n\t\tconsole.error(value)\r\n\t\tconsole.log(`<<<----------------`)\r\n\t}else{\r\n\t\tconsole.log(`------\"${TAG}\"----->>>`)\r\n\t\tconsole.warn(value)\r\n\t\tconsole.log(`<<<----------------`)\r\n\t}\r\n};\r\n\r\n//\t全局 toast\r\nconst showToast = (msg,duration =2000,icon = 'none') =>{\r\n\twx.showToast({\r\n\t\ttitle:msg,\r\n\t\tduration:duration,\r\n\t\ticon:icon\r\n\t})\r\n}\r\n\r\n// 全局 loading...\r\nconst showLoading = (title ='加载中...',mask=true) =>{\r\n\twx.showLoading({\r\n\t\ttitle:title,\r\n\t\tmask:mask\r\n\t})\r\n}\r\n\r\nVue.prototype.$api = api;\r\nVue.prototype.$store = store; // vuex store\r\nVue.prototype.$const = constant; // 全局常量池 : this.$const.Storage.HISTORY\r\nVue.prototype.$log = log; // 全局log : this.$log(tag,msg)\r\nVue.prototype.$showToast = showToast; // 全局toast : this.$showToast(\"hello\")\r\nVue.prototype.$showLoading = showLoading; // 全局toast : this.$showToast(\"hello\")\r\nVue.prototype.$fetch = uniHttpRequest;\r\n// Vue.prototype.$fetch = wxHttpRequest\r\n\r\nApp.mpType = 'app'\r\n\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('9f1bdfb0')) {\n      api.createRecord('9f1bdfb0', component.options)\n    } else {\n      api.reload('9f1bdfb0', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"project/mini-mall/App.vue\"\nexport default component.exports","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","\nimport { mapMutations } from 'vuex';\nexport default {\n\tonLaunch: function(e) {\n\t\tthis.save(e.query.sn)\n\t\ttry{\n\t\t\tlet user_info = wx.getStorageInfoSync(this.$const.Storage.USER)\n\t\t\tif(user_info &&　user_info.sn){\n\t\t\t\tthis.login(user_info)\n\t\t\t\t//this.check()\n\t\t\t}\n\t\t}catch(e){\n\t\t\tthis.$log(\"App onLoad=>Storage=>error\",e)\n\t\t}\n\t},\n\tonShow: function() {\n\t\tconsole.log('App Show')\n\t},\n\tonHide: function() {\n\t\tconsole.log('App Hide')\n\t},\n\t\n\tmethods:{\n\t\t...mapMutations(['login','logout']),\n\t\t/**\n\t\t * 检查 user 登录状态\n\t\t */\n\t\tcheck(){\n\t\t\tlet url = this.$api.check_user\n\t\t\tthis.$fetch.get(url).then(res=>{\n\t\t\t\tthis.$log('APP CHECKER USER',res)\n\t\t\t\tif(res.err_code === 0){\n\t\t\t\t\tthis.login(res.data.user)\n\t\t\t\t}else if(res.err_code === 4000){\n\t\t\t\t\tthis.logout()\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t/**\n\t\t * 保存sn,用于锁粉推广\n\t\t */\n\t\tsave(sn){\n\t\t\tif(sn && sn.length>4 && !this.$store.state.logined){\n\t\t\t\twx.setStorage({\n\t\t\t\t\tkey:this.$const.Storage.SN,\n\t\t\t\t\tdata:sn\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t *  小程序更新\n\t\t */\n\t\tupdate () {\n\t\t\tif (wx.canIUse('getUpdateManager')) {\n\t\t\t\tlet manager = wx.getUpdateManager()\n\t\t\t\tmanager.onCheckForUpdate(function(res) {\n\t\t\t\t\tif (res.hasUpdate) {\n\t\t\t\t\t\tmanager.onUpdateReady(function() {\n\t\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\t\ttitle: '更新提示',\n\t\t\t\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t\tmanager.applyUpdate()\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t\tmanager.onUpdateFailed(function() {\n\t\t\t\t\t\t\twx.showModal({\n\t\t\t\t\t\t\t\ttitle: '已经有新版本了哟~',\n\t\t\t\t\t\t\t\tcontent: '新版本已经上线啦~，请您删除当前小程序，重新搜索打开哟~'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n","import mod from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}